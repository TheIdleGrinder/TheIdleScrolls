@using TheIdleScrolls_Web.CoreWrapper
@using TheIdleScrolls_Core

@inject CoreWrapperModel CoreWrapper

<div id="statContainer">
    <h3>Statistics</h3>
    @foreach (var line in ReportLines)
    {
        <p>@line</p>
    }
</div>

<style>
    #statContainer {
        display: flex;
        flex-direction: column;
        padding: 10px;
        overflow-y: auto;
        box-sizing: border-box;
        max-height: inherit;
    }
</style>

@code {
    string StatReport => CoreWrapper.StatisticsReport;

    List<string> ReportLines => StatReport.Split("\n").ToList();

    protected override void OnInitialized()
    {
        CoreWrapper.StateChanged += StateHasChanged;
        base.OnInitialized();
    }
}
